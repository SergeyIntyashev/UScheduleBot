# UScheduleBot
Telegram-бот напоминающий о парах в университете СГЭУ г. Самара

## Стек
* Aiogram - библиотека для асинхронной работы с Telegram ботом
* Aiohttp - асинхронный клиент для работы с http запросами 
* Aioschedule - асинхронный планировщик заданий 
* Pydantic - библиотека для удобной работы с сущностями

## Функционал
* Расписание на текущий день
* Расписание на текущую неделю
* Расписание на следующую неделю
* Подписка/отписка на рассылку с расписанием 
(Каждый день в 21:00 СМР бот будет проверять расписание на завтрашний день,
если расписание занятия есть, будет отправлено сообщение)

## Заполнение переменных окружения

#### Переименовать ".env.example" на ".env" и заполнить свои настройки

    API_TOKEN - Токен бота, нужно получить у @BotFather

    GROUP_ID - ID группы. Можно получить отправив GET запрос по адресу
    https://lms3.sseu.ru/api/v1/schedule-board/groups. 
    В ответе найти наименование группы и её ID

    SCHEDULE_URL - API для получения расписания.
    По умолчанию можно оставить https://lms3.sseu.ru/api/v1/schedule-board/by-group

    ADMIN_ID - ID админа, для отправки системных сообщений

## Запуск

### 1) Создание окружения

    pip install virtualenv
    python3 -m venv venv
    venv/bin/activate

#### 2) Установка нужных пакетов

    pip install -r requirements.txt

#### 3) Запуск бота

    python main.py